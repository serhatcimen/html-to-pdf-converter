<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML-to-PDF DÃ¶nÃ¼ÅŸtÃ¼rÃ¼cÃ¼ | MathJax & LaTeX Destekli</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- MathJax 3 CDN -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <style>
        /* Page break kurallarÄ± PDF Ã§Ä±ktÄ±sÄ± iÃ§in */
        @page {
            margin: 20mm;
        }
        
        .preview-content {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 210mm;
            margin: 0 auto;
            padding: 15mm;
        }
        
        .preview-content * {
            page-break-inside: avoid;
        }
        
        .preview-content p,
        .preview-content div,
        .preview-content section,
        .preview-content article {
            page-break-inside: avoid;
            margin-bottom: 1rem;
        }
        
        .preview-content h1,
        .preview-content h2,
        .preview-content h3,
        .preview-content h4,
        .preview-content h5,
        .preview-content h6 {
            page-break-inside: avoid;
            page-break-after: avoid;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        
        /* MathJax formÃ¼lleri iÃ§in */
        .preview-content mjx-container {
            page-break-inside: avoid;
            display: inline-block;
            margin: 0.75rem 0 1.25rem 0;
            line-height: 1.8;
            vertical-align: middle;
        }
        
        .preview-content p {
            margin-bottom: 1.25rem;
            line-height: 1.8;
            padding: 0;
        }
        
        .preview-content h1,
        .preview-content h2,
        .preview-content h3,
        .preview-content h4,
        .preview-content h5,
        .preview-content h6 {
            margin-bottom: 0.75rem;
            margin-top: 1.5rem;
            line-height: 1.4;
        }
        
        /* Tailwind'in scroll-smooth olmasÄ± iÃ§in base sÄ±nÄ±f */
        html {
            scroll-behavior: smooth;
        }
        
        /* YazdÄ±rma iÃ§in CSS kurallarÄ± */
        @media print {
            * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                color-adjust: exact !important;
            }
            
            body {
                background: white !important;
                margin: 0 !important;
                padding: 0 !important;
                width: 100% !important;
            }
            
            html {
                width: 100% !important;
                height: 100% !important;
            }
            
            header,
            footer,
            #clearBtn,
            #downloadPdfBtn,
            #htmlInput,
            label[for="htmlInput"],
            .mt-8,
            .prose {
                display: none !important;
            }
            
            main {
                max-width: 100% !important;
                width: 100% !important;
                padding: 0 !important;
                margin: 0 !important;
                display: block !important;
            }
            
            .grid {
                display: block !important;
                gap: 0 !important;
                width: 100% !important;
            }
            
            main > .grid > .flex:first-child {
                display: none !important;
                width: 0 !important;
                height: 0 !important;
            }
            
            .flex.flex-col {
                display: block !important;
                width: 100% !important;
            }
            
            .bg-white.rounded-lg.shadow-lg {
                background: white !important;
                border: none !important;
                box-shadow: none !important;
                padding: 0 !important;
                margin: 0 !important;
            }
            
            .overflow-y-auto.mb-6 {
                overflow: visible !important;
                height: auto !important;
                max-height: none !important;
                border: none !important;
                background: white !important;
                padding: 0 !important;
                margin: 0 !important;
                page-break-inside: avoid !important;
            }
            
            .preview-content {
                width: 100% !important;
                margin: 0 !important;
                padding: 15mm !important;
                display: block !important;
            }
            
            .preview-content * {
                page-break-inside: avoid !important;
            }
            
            .preview-content p {
                page-break-inside: avoid !important;
                margin-bottom: 1rem !important;
                line-height: 1.6 !important;
            }
            
            .preview-content h1,
            .preview-content h2,
            .preview-content h3,
            .preview-content h4,
            .preview-content h5,
            .preview-content h6 {
                page-break-inside: avoid !important;
                page-break-after: avoid !important;
                margin-bottom: 0.5rem !important;
            }
            
            .preview-content mjx-container {
                page-break-inside: avoid !important;
                break-inside: avoid !important;
                display: block !important;
                margin: 0.5rem 0 1rem 0 !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            .preview-content mjx-container svg {
                max-width: 100% !important;
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-50 to-slate-100 min-h-screen">
    <div class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="bg-white shadow-md border-b border-slate-200">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-3xl font-bold text-slate-900">
                            <span class="bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
                                HTML-to-PDF
                            </span>
                        </h1>
                        <p class="text-slate-600 text-sm mt-1">MathJax & LaTeX Destekli DÃ¶nÃ¼ÅŸtÃ¼rÃ¼cÃ¼</p>
                    </div>
                    <div class="text-right">
                        <div class="text-xs text-slate-500">v0.3</div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="flex-1 max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                
                <!-- Sol Panel - Input -->
                <div class="flex flex-col">
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden flex flex-col h-full">
                        <div class="bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4">
                            <h2 class="text-lg font-semibold text-white">HTML & LaTeX GiriÅŸ</h2>
                            <p class="text-blue-100 text-xs mt-1">MathJax formatÄ±nda formÃ¼ller yazabilirsiniz</p>
                        </div>
                        
                        <div class="flex-1 p-6 flex flex-col">
                            <div class="mb-4">
                                <label for="htmlInput" class="block text-sm font-medium text-slate-700 mb-2">
                                    HTML Kod
                                </label>
                                <textarea
                                    id="htmlInput"
                                    rows="20"
                                    class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none font-mono text-sm"
                                    placeholder="HTML ve LaTeX kodlarÄ±nÄ± buraya yapÄ±ÅŸtÄ±rÄ±n...&#10;&#10;Ã–rnek:&#10;&lt;h1&gt;BaÅŸlÄ±k&lt;/h1&gt;&#10;&lt;p&gt;Metinler burada...&lt;/p&gt;&#10;&#10;LaTeX formÃ¼lÃ¼: $$E=mc^2$$&#10;&#10;Ä°nline formÃ¼l: $$\frac{a}{b}$$"
                                ></textarea>
                            </div>
                            
                            <div class="flex gap-2">
                                <button
                                    id="clearBtn"
                                    class="flex-1 bg-slate-500 hover:bg-slate-600 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2"
                                >
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                                    </svg>
                                    Temizle
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SaÄŸ Panel - Preview & PDF -->
                <div class="flex flex-col">
                    <div class="bg-white rounded-lg shadow-lg overflow-hidden flex flex-col h-full">
                        <div class="bg-gradient-to-r from-purple-600 to-purple-700 px-6 py-4">
                            <h2 class="text-lg font-semibold text-white">Ã–nizleme & PDF</h2>
                            <p class="text-purple-100 text-xs mt-1">DÃ¶nÃ¼ÅŸtÃ¼rÃ¼len iÃ§erik burada gÃ¶sterilir</p>
                        </div>
                        
                        <div class="flex-1 p-6 flex flex-col overflow-hidden">
                            <!-- Preview Area -->
                            <div class="flex-1 overflow-y-auto mb-6 border border-slate-200 rounded-lg p-4 bg-slate-50">
                                <div
                                    id="previewArea"
                                    class="preview-content prose prose-sm max-w-none"
                                >
                                    <div class="text-center text-slate-400">
                                        <p class="text-lg">ðŸ“„ Ã–nizleme alanÄ±</p>
                                        <p class="text-sm">Kod yazÄ±p "PDF Olarak Ä°ndir" butonuna basarak baÅŸlayÄ±n</p>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- PDF Download Button -->
                            <button
                                id="downloadPdfBtn"
                                class="w-full bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center gap-2 shadow-md hover:shadow-lg"
                            >
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path>
                                </svg>
                                PDF Olarak Ä°ndir
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ã–rnekler -->
            <div class="mt-8 bg-white rounded-lg shadow-lg p-6">
                <h3 class="text-lg font-semibold text-slate-900 mb-4">ðŸ“š Ã–rnek KullanÄ±m</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-slate-50 p-4 rounded-lg">
                        <h4 class="font-medium text-slate-700 mb-2">Display FormÃ¼l</h4>
                        <code class="text-xs text-slate-600">$$E = mc^2$$</code>
                    </div>
                    <div class="bg-slate-50 p-4 rounded-lg">
                        <h4 class="font-medium text-slate-700 mb-2">Inline FormÃ¼l</h4>
                        <code class="text-xs text-slate-600">\(ax^2 + bx + c = 0\)</code>
                    </div>
                    <div class="bg-slate-50 p-4 rounded-lg col-span-1 md:col-span-2">
                        <h4 class="font-medium text-slate-700 mb-2">Kompleks Ã–rnek</h4>
                        <code class="text-xs text-slate-600">$$\frac{-b \pm \sqrt{b^2 - 4ac}}{2a}$$</code>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-slate-900 text-slate-400 text-xs py-4 mt-12">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex items-center justify-between">
                    <p>&copy; 2026 HTML-to-PDF Converter. TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
                    <div class="text-right text-slate-500">
                        <span>v0.3</span>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // DOM Elements
        const htmlInput = document.getElementById('htmlInput');
        const previewArea = document.getElementById('previewArea');
        const clearBtn = document.getElementById('clearBtn');
        const downloadPdfBtn = document.getElementById('downloadPdfBtn');

        // Event Listeners
        clearBtn.addEventListener('click', clearAll);
        downloadPdfBtn.addEventListener('click', handleDownloadPDF);

        // Auto-render on input
        htmlInput.addEventListener('input', debounce(renderPreview, 500));

        /**
         * KullanÄ±cÄ±nÄ±n girdiÄŸi HTML'i Ã¶nizleme alanÄ±nda render eder
         */
        async function renderPreview() {
            const htmlContent = htmlInput.value.trim();
            
            if (!htmlContent) {
                previewArea.innerHTML = '<div class="text-center text-slate-400"><p class="text-lg">ðŸ“„ Ã–nizleme alanÄ±</p><p class="text-sm">Kod yazÄ±p "PDF Olarak Ä°ndir" butonuna basarak baÅŸlayÄ±n</p></div>';
                return;
            }

            try {
                // Ä°Ã§eriÄŸi render et
                previewArea.innerHTML = htmlContent;
                
                // MathJax'Ä± Ã§alÄ±ÅŸtÄ±r
                if (window.MathJax) {
                    await MathJax.typesetPromise([previewArea]);
                }
            } catch (error) {
                console.error('Render hatasÄ±:', error);
                previewArea.innerHTML = `<div class="text-red-600 p-4 bg-red-50 rounded"><strong>Hata:</strong> HTML iÃ§eriÄŸi iÅŸlenirken bir hata oluÅŸtu.<br><small>${error.message}</small></div>`;
            }
        }

        /**
         * PDF indir butonuna tÄ±klandÄ±ÄŸÄ±nda - Ã¶nce Ã¶nizle, sonra yazdÄ±rma ekranÄ± aÃ§
         */
        async function handleDownloadPDF() {
            const htmlContent = htmlInput.value.trim();
            
            if (!htmlContent) {
                alert('LÃ¼tfen Ã¶nce HTML iÃ§eriÄŸi girin.');
                return;
            }

            // Ã–nce Ã¶nizle
            await renderPreview();
            
            // MathJax'Ä±n render olmasÄ± iÃ§in yeterince bekle
            setTimeout(() => {
                // Ekstra bekleme - MathJax SVG render olsun
                setTimeout(() => {
                    window.print();
                }, 800);
            }, 300);
        }

        /**
         * HTML iÃ§eriÄŸini PDF'e dÃ¶nÃ¼ÅŸtÃ¼rÃ¼p indir
         */
        async function downloadPDF() {
            // Bu fonksiyon artÄ±k kullanÄ±lmÄ±yor
            // window.print() kullanÄ±lÄ±yor
        }

        /**
         * TÃ¼m alanlarÄ± temizle
         */
        function clearAll() {
            if (confirm('TÃ¼m iÃ§eriÄŸi silmek istediÄŸinize emin misiniz?')) {
                htmlInput.value = '';
                previewArea.innerHTML = '<div class="text-center text-slate-400"><p class="text-lg">ðŸ“„ Ã–nizleme alanÄ±</p><p class="text-sm">Kod yazÄ±p "PDF Olarak Ä°ndir" butonuna basarak baÅŸlayÄ±n</p></div>';
                htmlInput.focus();
            }
        }

        /**
         * Debounce fonksiyonu - sÄ±k tetiklenen olaylarÄ± azaltmak iÃ§in
         */
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Sayfa yÃ¼klendiÄŸinde
        window.addEventListener('load', () => {
            console.log('âœ… Uygulama baÅŸarÄ±yla yÃ¼klendi');
        });
    </script>
</body>
</html>